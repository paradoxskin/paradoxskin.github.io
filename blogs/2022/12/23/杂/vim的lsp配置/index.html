<!DOCTYPE html>
<html id="all">

<head>
	<meta charset="utf-8">

















<link rel="shortcut icon" href="/pic/favicon.ico">
	<title>Paradoxless | Blogs</title>
	
<link rel="stylesheet" href="/css/main.css">

	
<link rel="stylesheet" href="/css/font.css">

	
<link rel="stylesheet" href="/lib/highlight/rainbow.min.css">

<meta name="generator" content="Hexo 6.3.0"></head>
	
<script src="/lib/highlight/highlight.min.js"></script>

	
<script src="/lib/highlight/highlightjs-line-numbers.js"></script>

	
<script src="/lib/jquery.js"></script>

	
<script src="/lib/jquery.pjax.js"></script>

	
<script src="/js/main.js"></script>

<body id="lybody">
	<div id="head">
	<a id="pLogo" href="/"><img alt="P" src="/pic/logo.svg"></a>
	<div id="urlText">aradoxskin.</div>
	<a id="githubLogo" href="https://github.com/paradoxskin" target="_blank"><img alt="github" src="/pic/github.svg"></a>
	<div id="urlText">.io</div>
	<div id="sucklessText">- simple is best</div>
	<div id="clear"></div>
</div>

	<hr id="hidden">
	<script>
	//if(localStorage.getItem('bgs')==null){
		localStorage['bgs']='comp'

			localStorage.setItem('bgs[num]','25');

			localStorage.setItem('bgs[pic1]','/pic/wp/01.jpg');

			localStorage.setItem('bgs[pic2]','/pic/wp/02.jpg');

			localStorage.setItem('bgs[pic3]','/pic/wp/03.jpg');

			localStorage.setItem('bgs[pic4]','/pic/wp/04.jpg');

			localStorage.setItem('bgs[pic5]','/pic/wp/05.jpg');

			localStorage.setItem('bgs[pic6]','/pic/wp/06.jpg');

			localStorage.setItem('bgs[pic7]','/pic/wp/07.jpg');

			localStorage.setItem('bgs[pic8]','/pic/wp/08.jpg');

			localStorage.setItem('bgs[pic9]','/pic/wp/09.jpg');

			localStorage.setItem('bgs[pic10]','/pic/wp/10.jpg');

			localStorage.setItem('bgs[pic11]','/pic/wp/11.jpg');

			localStorage.setItem('bgs[pic12]','/pic/wp/12.jpg');

			localStorage.setItem('bgs[pic13]','/pic/wp/13.png');

			localStorage.setItem('bgs[pic14]','/pic/wp/14.png');

			localStorage.setItem('bgs[pic15]','/pic/wp/15.png');

			localStorage.setItem('bgs[pic16]','/pic/wp/16.jpg');

			localStorage.setItem('bgs[pic17]','/pic/wp/17.jpg');

			localStorage.setItem('bgs[pic18]','/pic/wp/18.jpg');

			localStorage.setItem('bgs[pic19]','/pic/wp/19.jpg');

			localStorage.setItem('bgs[pic20]','/pic/wp/20.jpg');

			localStorage.setItem('bgs[pic21]','/pic/wp/21.png');

			localStorage.setItem('bgs[pic22]','/pic/wp/22.jpg');

			localStorage.setItem('bgs[pic23]','/pic/wp/23.png');

			localStorage.setItem('bgs[pic24]','/pic/wp/24.jpg');

			localStorage.setItem('bgs[pic25]','/pic/wp/25.jpg');

		if(localStorage.getItem('now')==null){
			localStorage.setItem('now','pic22');
		}
	//}
</script>

<div id="nav">
	<ul>
		<li><button id="cgBg" onclick="randomSwitch()">O</button><button id="clBg" onclick="noBg()">_</button></li>

		<iframe id="music-player" frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=110 src="//music.163.com/outchain/player?type=0&id=7669623816&auto=0&height=90"></iframe>

		<button id="nav-hide" onclick="hideMenu()">â—¤</button>

		<span id="clear"></span>
	</ul>
</div>
<button id="nav-show" onclick="showMenu()">â—¢</button>

<span id="pup">
	<div id="menu">
	
	
		
			<b><a href="/" class="menu-item-link" id="in">Home</a></b>
		
	
		
			<b><a data-pjax="#main" href="/blogs" class="menu-item-link-selected" id="in">Blogs</a></b>
		
	
		
			<b><a href="/archives" class="menu-item-link" id="in">Archives</a></b>
		
	
		
			<b><a href="/about" class="menu-item-link" id="in">who@mi</a></b>
		
	
		
			<b><a href="/links" class="menu-item-link" id="in">Links</a></b>
		
	
	<div id="outlink">
	
		<a href="https://www.lexaloffle.com/pico-8.php" class="menu-item-link" id="out" target="_blank">pico-8</a>
	
		<a href="https://suckless.org/" class="menu-item-link" id="out" target="_blank">suckless</a>
	
	</div>
</div>

	<div id="main">
		<div id="post">

	<b><div id="start-title">vimçš„lspé…ç½®</div></b>

	
	<center><b><span id="start-date">start at 2022/12/23?</span></b></center>
	

    <p>è™½ç„¶æˆ‘æœ¬äººä¸æ˜¯ç‰¹åˆ«å–œæ¬¢ç”¨è¡¥å…¨ï¼Œä½†å¥½åƒçœŸçš„éšç€å·¥ä½œé‡çš„å¢å¤§ï¼Œåªé è®°å¿†å’Œæ‰‹é€Ÿæ˜¯å¹²ä¸è¿‡IDEçš„ï¼Œæ‰€ä»¥æˆ‘è¿˜æ˜¯å­¦ä¹ ä¸€ä¸‹å…³äºlspçš„é…ç½®å§ï¼Œä»¥åä»¥ä¸ºæ•ˆç‡ä½å°±æ‰¾ä¸åˆ°é¥­ç¢—å’¯<span id="more"></span></p>
<blockquote>
<p>è™½ç„¶ä¸€åªç§‰æŒèƒ½è‡ªå·±å†™æ’ä»¶å°±è‡ªå·±å†™çš„è§‚å¿µï¼Œä½†æ˜¯å†™ä¸€ä¸ªlspä¹‹ç±»çš„åƒAIä¸€æ ·æˆ‘å®Œå…¨æ²¡æ¥è§¦è¿‡çš„é¢†åŸŸï¼Œæ„Ÿè§‰æˆ‘è‡ªå·±æ˜¯å®Œå…¨å†™ä¸å‡ºæ¥ï¼Œå¯¹æˆ‘æ¥è¯´ä»–ä»¬å°±åƒé­”æ³•ä¸€æ ·</p>
<p><del>ç½‘ä¸Šå¾ˆå¤šèµ„æ–™éƒ½æ˜¯neovimçš„lspé…ç½®ï¼Œçœ‹çš„å¥½çƒ¦å•Šï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆå¯¹neovimæœ‰ä¸€ç‚¹æŠµè§¦</del></p>
<p>ä¸»æµçš„lspæ’ä»¶æœ‰coc.nvimï¼Œä½†æ˜¯å®ƒå¤ªåºå¤§äº†ï¼ŒæŠŠvscodeçš„åº”ç”¨ç»™æ¬è¿‡æ¥äº†ï¼Œç®€ç›´å°±æ˜¯å®‰è£…äº†ä¸€ä¸ªç”Ÿæ€ç³»ç»Ÿï¼ŒI dont like it</p>
<p>çœ‹ä¸Šä¸€æ¬¾ç›¸å¯¹è½»é‡çš„vim-lspï¼Œä¹‹å‰ä¸€ç›´æ²¡æ—¶é—´ç ”ç©¶ï¼Œä»Šå¤©æ¥çœ‹çœ‹</p>
</blockquote>
<h2 id="å®‰è£…LSPæœ¬ä½“"><a href="#å®‰è£…LSPæœ¬ä½“" class="headerlink" title="å®‰è£…LSPæœ¬ä½“"></a>å®‰è£…LSPæœ¬ä½“</h2><p>å…ˆåœ¨windowsä¸Šé…ç½®ï¼Œå¦‚æœwindowsä¸Šèƒ½é…ç½®å¥½ï¼Œlinuxä¸Šå°±è½»è€Œæ˜“ä¸¾äº†</p>
<p>LSPï¼Œå…¨ç§°Language Server Protocolï¼Œæœ€åˆç”¨åœ¨å¾®è½¯çš„vscodeï¼Œç°åœ¨å„å¤§ç¼–è¾‘å™¨éƒ½å¼€å§‹ä½¿ç”¨äº†</p>
<p>åŸç†å¾ˆç±»ä¼¼å‰åç«¯åˆ†ç¦»ï¼ŒæŠŠè¡¥å…¨æƒ³è±¡æˆå‰åç«¯ï¼Œå‰ç«¯æ˜¯ç¼–è¾‘å™¨ï¼Œåç«¯è´Ÿè´£å„ç§è¯­æ³•ç›¸å…³çš„å·¥ä½œï¼Œè¿”å›ç»™å‰ç«¯</p>
<p>ä¼ ç»Ÿçš„è¡¥å…¨éƒ½æ˜¯ä¸€ç§ç¼–è¾‘å™¨è‡ªå·±å†™å¥½ä¸€ç§è¯­è¨€çš„è¡¥å…¨ç³»ç»Ÿï¼Œå¦‚æœæƒ³ç”¨å…¶ä»–ç¼–è¾‘å™¨ç”¨ç›¸åŒçš„è¯­è¨€è¡¥å…¨ç³»ç»Ÿï¼Œé‚£ä¹ˆå°±éœ€è¦å†å†™ä¸€ä¸ªè¡¥å…¨ç³»ç»Ÿäº†ï¼ŒLSPåˆ™åªéœ€è¦å†™å¥½ä¸€ä¸ªï¼Œå„ä¸ªç¼–è¾‘å™¨å‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›è¯­æ³•ç›¸å…³å†…å®¹ï¼Œæ‰€ä»¥åªè¦ç¼–è¾‘å™¨å¤„ç†å¥½æ¥å£å°±è¡Œäº†ï¼Œå½“ç„¶è¿™ä¸ªæœåŠ¡å™¨ä¸æ˜¯çœŸçš„è·‘åœ¨æœåŠ¡å™¨ä¸Šï¼Œè€Œæ˜¯è·‘åœ¨æœ¬åœ°æœåŠ¡å™¨ä¸Šï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒä¸ªäººéšç§çš„æ³„éœ²ï¼Œ<del>å…¶å®ä¹Ÿè¯´ä¸å¥½ï¼Œé™¤éè‡ªå·±å†™ä¸€ä¸ªLSP</del></p>
<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/image-20221220161204987.png" alt="image-20221220161204987"></p>
<p>ä¸æƒ³æ¯æ¬¡æ‰“å¼€éƒ½åŠ è½½ï¼Œæ‰€ä»¥åˆ›äº†optè€Œä¸æ˜¯start</p>
<p>è¿›å…¥optçš„å‘½ä»¤è¡Œä¸­ï¼Œæ‰§è¡Œ</p>
<pre><code class="bash">git clone git@github.com:prabirshrestha/vim-lsp.git
git clone git@github.com:mattn/vim-lsp-settings.git
</code></pre>
<p>ç¬¬ä¸€ä¸ªä»“åº“æ˜¯vim-lspæœ¬ä½“ï¼Œç¬¬äºŒä¸ªä»“åº“æ˜¯ç”¨æ¥ç®€ä¾¿å®‰è£…æœåŠ¡å™¨çš„æ’ä»¶ï¼Œåªéœ€è¦</p>
<pre><code class="bash">:LspInstallServer
</code></pre>
<p>å°±èƒ½å®‰è£…å¯¹åº”è¯­è¨€çš„lspæœåŠ¡å™¨</p>
<pre><code class="bash">:LspUninstallServer server-name
</code></pre>
<p>æ¥å¸è½½æœåŠ¡å™¨</p>
<p>å®‰è£…åçš„æœåŠ¡å™¨åœ¨ä»¥ä¸‹ä½ç½®</p>
<pre><code class="bash"># windows:
%LOCALAPPDATA%\vim-lsp-settings\servers

# Linux
$HOME/.local/share/vim-lsp-settings/servers
</code></pre>
<blockquote>
<p>You can change the directory to install servers by set <code>g:lsp_settings_servers_dir</code> option in full path.</p>
</blockquote>
<p>å…ˆå»è¯•ç€å®‰è£…äº†C++çš„è¡¥å…¨ï¼Œç»“æœä¸‹è½½å¤±è´¥äº†ï¼Œæˆ‘çŒœè¦ä»£ç†ï¼Œç„¶åè‡ªå·±å»çœ‹äº†ä¸‹æ’ä»¶æ€ä¹ˆå†™çš„ï¼Œå‘ç°è¿™æ’ä»¶å°±æ˜¯å†™ä¸€å †é…ç½®è„šæœ¬å˜›</p>
<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/image-20221220163412582.png" alt="image-20221220163412582"></p>
<p>è¿™æ˜¯cçš„windowsè¡¥å…¨å®‰è£…è„šæœ¬</p>
<pre><code class="powershell">@echo off

setlocal
set VERSION=15.0.0
echo Downloading clang and LLVM...
curl -L -o LLVM-%VERSION%-win64.exe &quot;https://github.com/llvm/llvm-project/releases/download/llvmorg-%VERSION%/LLVM-%VERSION%-win64.exe&quot;
echo Running setup...

rem Run setup as regular user to avoid a UAC popup
set __COMPAT_LAYER=RUNASINVOKER
md tmp
.\LLVM-%VERSION%-win64.exe /S /D=%cd%\tmp
copy tmp\bin\clangd.exe clangd.exe
del LLVM-%VERSION%-win64.exe
rd /Q /S %cd%\tmp
.\clangd.exe --version
</code></pre>
<p>è¿™ç‰ˆæœ¬è¿˜ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œæœ€æ–°ç‰ˆæœ¬æ˜¯15.0.6ï¼Œç„¶åæˆ‘è‡ªå·±å»githubä¸Šä¸‹ï¼Œå‘ç°è¿™ä¸ªexeèƒ½æœ‰200+Mbï¼Œå“å¾—é©¬ä¸Šç»™æˆ‘åœä¸‹æ¥äº†ï¼Œæ„Ÿè§‰è¿˜æ˜¯è‡ªå·±è£…æ¥çš„é è°±ï¼Œè¿˜è¦æ¢ä¸€ä¸‹æœåŠ¡å™¨çš„å®‰è£…ä½ç½®ï¼Œè£…Cç›˜æ˜¯é¡¶ä¸ä½çš„</p>
<p>æ¢³ç†äº†ä¸‹æˆ‘æ€»å…±éœ€è¦8ç§è¯­è¨€çš„è¡¥å…¨:</p>
<ul>
<li>python</li>
<li>c&#x2F;c++</li>
<li>lua</li>
<li>java</li>
<li>go</li>
<li>rust</li>
<li>javascript</li>
<li>html</li>
</ul>
<h2 id="å®‰è£…è¡¥å…¨"><a href="#å®‰è£…è¡¥å…¨" class="headerlink" title="å®‰è£…è¡¥å…¨"></a>å®‰è£…è¡¥å…¨</h2><p>ä¸€èˆ¬éƒ½ç”¨<a target="_blank" rel="noopener" href="https://github.com/prabirshrestha/asyncomplete.vim">asyncomplete.vim</a>ï¼Œè€å¥—è·¯</p>
<pre><code class="bash">git clone git@github.com:prabirshrestha/asyncomplete.vim.git
</code></pre>
<h2 id="å›å½’ç°å®"><a href="#å›å½’ç°å®" class="headerlink" title="å›å½’ç°å®"></a>å›å½’ç°å®</h2><blockquote>
<p>2022&#x2F;12&#x2F;21 21:08</p>
<p>æ˜¯æ—¶å€™å›å½’ç°å®äº†ï¼Œæ˜¨å¤©ä¿¡èª“æ—¦æ—¦çš„é…äº†ä¸€å¤©çš„lspï¼Œæœ€åè¿˜æ˜¯æ²¡é…å‡ºæ¥</p>
<p>æˆ‘è¯•äº†<a target="_blank" rel="noopener" href="https://github.com/autozimu/LanguageClient-neovim">LanguageClient-neovim</a>ï¼Œå‘ç°pylsçš„ hover å’Œ å¸®åŠ©æ–‡æ¡£ æŠ¥é”™ï¼Œæœ€åç”¨äº†<a target="_blank" rel="noopener" href="https://github.com/dense-analysis/ale">ale</a>ï¼Œå®ƒè‡ªå¸¦äº†pythonçš„è¡¥å…¨ï¼Œç”¨èµ·æ¥è¿˜å¯ä»¥ï¼Œå°±æ˜¯å®ƒè€æ˜¯æŠ¥æˆ‘çš„ç é£è­¦æŠ¥å•Šï¼Œä¸ºä»€ä¹ˆäººäººéƒ½è¦åƒä½ ä»¬è§„å®šçš„é‚£æ ·å†™ä»£ç å•Šï¼</p>
<p>é‡åˆ°çš„é—®é¢˜éƒ½å¤ªå¥‡è‘©ï¼Œgoogleä¸åˆ°ï¼Œä¹Ÿä¸æƒ³issueï¼Œä¹‹åå†å›æ¥é…è½»é‡çš„è¡¥å…¨ç³»ç»Ÿï¼Œæ„Ÿè§‰ç½‘ä¸Šè¯´çš„æ˜¯çœŸçš„ï¼Œvimçš„é…ç½®æ—¶é—´æ¯”ä½¿ç”¨vimå†™ä»£ç çš„æ—¶é—´è¿˜è¦å¤šï¼Œä»Šå¤©åˆå¹²äº†äº›ä¸çŸ¥é“åœ¨å¹²ä»€ä¹ˆçš„äº‹æƒ…ï¼ˆå› ä¸ºåœ¨Uç®¡ä¸Šçœ‹åˆ°ä¸€ä¸ªvimerçš„ç•Œé¢è§‰å¾—æŒºå¥½çš„ï¼Œå¾ˆå¥½å¥‡æ˜¯æ€ä¹ˆåšåˆ°çš„<img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/shotcut.PNG" alt="shotcut"></p>
<p>æœ¬æ¥ä»¥ä¸ºå¯ä»¥è®¾ç½®æ¢è¡Œé•¿åº¦ï¼Œåæ¥å‘ç°æ¢è¡Œå’ŒæŠ˜è¡Œæ˜¯æœ‰åŒºåˆ«çš„ï¼Œä»¥åå¼€åšç»†æ°´ä¸€ä¸‹</p>
<p>ç»“æœèŠ±äº†åŠå¤©å‹‰å¼ºåšåˆ°è¿™æ ·ï¼ˆ é¢œè‰²ä¼¼ä¹æ˜¯åäº†ï¼Œä¸è¿‡æ‡’å¾—æ‰¾snazzyçš„hiäº†ï¼Œæ„Ÿè§‰ä¹Ÿè¿˜èˆ¬é…</p>
<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/image-20221221212239253.png" alt="image-20221221212239253"></p>
<p>æˆ‘ç”šè‡³è¿˜ç‰¹åœ°å†™äº†ä¸€ä¸ªè‡ªå·±ä¹‹å‰å®Œå…¨æ²¡æƒ³åˆ°è¿‡çš„ç”¨æ–¹å‘æ¥è°ƒèŠ‚RGBå‚æ•°çš„vimè„šæœ¬</p>
<pre><code class="vim">vim9script

# R 
# G 
# B 

# source % to test
var R = 0
var G = 0
var B = 0

noremap &lt;expr&gt; l (line(&#39;.&#39;) &lt;= 5 &amp;&amp; line(&#39;.&#39;) &gt;= 3) ? &quot;:call PlusColor()&lt;CR&gt;&quot; 
\ : &quot;l&quot;
noremap &lt;expr&gt; h (line(&#39;.&#39;) &lt;= 5 &amp;&amp; line(&#39;.&#39;) &gt;= 3) ? &quot;:call SulpColor()&lt;CR&gt;&quot; 
\ : &quot;h&quot;

def Tran(xxx: number): string
    var rt = &quot;&quot;
    var lts = &quot;0123456789abcdef&quot;
    var tmp = xxx
    while tmp &gt; 0
        rt = lts[tmp % 16] .. rt
        tmp = tmp / 16
    endwhile
    if len(rt) == 1
        rt = &quot;0&quot; .. rt
    elseif len(rt) == 0
        rt = &quot;00&quot;
    endif
    return rt
enddef

def Paint()
    exec &quot;hi ColorColumn guibg=&quot; .. &quot;#&quot; .. Tran(R) .. Tran(G) .. Tran(B)
    echo &quot;#&quot; .. Tran(R) .. Tran(G) .. Tran(B)
enddef

def g:PlusColor()
    var nowLine = line(&#39;.&#39;)
    if nowLine == 3
        R += R == 255 ? 0 : 1
    elseif nowLine == 4
        G += G == 255 ? 0 : 1
    elseif nowLine == 5
        B += B == 255 ? 0 : 1
    endif
    Paint()
enddef

def g:SulpColor()
    var nowLine = line(&#39;.&#39;)
    if nowLine == 3
        R -= R == 0 ? 0 : 1
    elseif nowLine == 4
        G -= G == 0 ? 0 : 1
    elseif nowLine == 5
        B -= B == 0 ? 0 : 1
    endif
    Paint()
enddef
</code></pre>
<p>é¡ºä¾¿ï¼Œçºªå¿µä¸€ä¸‹233ï¼</p>
<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/xzczxsad.png" alt="xzczxsad"></p>
<p>å¥½äº†ï¼Œå›å½’æ­£é¢˜ï¼Œæˆ‘<strong>å†³å®šç”¨coc</strong>äº†ï¼</p>
<p>å› ä¸º <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Ka4y1E7AM">TheCW</a> æœ‰æ•™å­¦ï¼Œè¿˜é—®äº†ä¸‹vimzhç”µæŠ¥ç¾¤</p>
<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/image-20221221212653958.png" alt="image-20221221212653958"></p>
<center>æœ‰äº›æ—¶å€™ï¼Œæˆ‘ä»¬å®³æ€•æ”¹å˜</center>

<center>ä½†å…¶å®ï¼Œæˆ‘ä»¬åªæ˜¯éœ€è¦ä¸€ä¸ªç†ç”±ç½¢äº†</center>
</blockquote>
<h2 id="COC"><a href="#COC" class="headerlink" title="COC"></a>COC</h2><p><a target="_blank" rel="noopener" href="https://github.com/neoclide/coc.nvim">COC</a>ï¼Œå…¨ç§°ä¸º <em><del>Call of Cthulhu</del></em> Conquer of Completion</p>
<p>æ³¨æ„ï¼Œå®‰è£…COCè¦æ±‚node.jsç¯å¢ƒï¼Œ<code>node</code> &gt;&#x3D; <code>14.14</code></p>
<p>åŒæ ·æ”¾åœ¨optæ–‡ä»¶å¤¹é‡Œ</p>
<pre><code class="bash">git clone https://github.com/neoclide/coc.nvim.git
</code></pre>
<p>gitå®Œä¹‹åå¯åŠ¨vimï¼ŒæŸ¥çœ‹cocèƒ½ä¸èƒ½ç”¨</p>
<pre><code class="bash">:CocInfo
</code></pre>
<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/image-20221222154923472.png" alt="image-20221222154923472"></p>
<p>ç½‘ä¸Šä¸€æŸ¥ï¼Œæ˜¯æ²¡çœ‹æ¸…æ¥šå®˜æ–¹æ–‡æ¡£ï¼Œä¸èƒ½ç›´æ¥clone masteråˆ†æ”¯ï¼Œè¦clone releaseåˆ†æ”¯</p>
<pre><code class="bash">git clone --branch release https://github.com/neoclide/coc.nvim.git --depth=1
</code></pre>
<p>è£…çš„æ¯”masterå¿«10å€å•Šï¼Œè£…å®Œä¹‹å</p>
<pre><code class="bash">:packadd coc.nvim
:CocStart
:CocInfo
</code></pre>
<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/image-20221222161652809.png" alt="image-20221222161652809"></p>
<p>ç¯å¢ƒåº”è¯¥æ²¡é—®é¢˜äº†ï¼Œå¼€å§‹é…ç½®</p>
<p>è¯´æ˜¯é…ç½®ï¼Œæ— éå°±æ˜¯åœ¨cocçš„ç”Ÿæ€ç³»ç»Ÿé‡Œä¸‹è½½æ’ä»¶ï¼Œ</p>
<pre><code class="bash"># ä¸‹è½½æ’ä»¶
:CocInstall xxx
# å¸è½½æ’ä»¶
:CocUninstall xxx
</code></pre>
<p>å½“ç„¶ï¼Œä½ å¯ä»¥æŠŠè¦é…ç½®çš„æ”¾åœ¨ä¸€ä¸ªcocä¼šå¤„ç†çš„å…¨å±€å˜é‡é‡Œ</p>
<pre><code class="javascript">let g:coc_global_extensions = [&quot;coc-marketplace&quot;]
</code></pre>
<p>æ¯æ¬¡è½½å…¥cocçš„æ—¶å€™å¦‚æœæ²¡æœ‰æœ‰æ’ä»¶å®‰è£…ï¼Œå®ƒä¼šè‡ªåŠ¨å¸®ä½ è£…ä¸Š</p>
<p>ç„¶åæˆ‘ç½—åˆ—ä¸€ä¸‹æˆ‘éœ€è¦Installçš„cocæ’ä»¶</p>
<table>
<thead>
<tr>
<th>æ’ä»¶å</th>
<th>ä½œç”¨</th>
<th>ç”¨æ³•</th>
</tr>
</thead>
<tbody><tr>
<td>coc-marketplace</td>
<td>æ£€ç´¢å…¶ä»–æ’ä»¶ï¼Œèƒ½fzf</td>
<td><code>:CocList marketplace</code>ï¼Œ<code>&lt;C-j&gt;</code>å’Œ<code>&lt;C-k&gt;</code>ä¸Šä¸‹</td>
</tr>
<tr>
<td>coc-vimlsp</td>
<td>è¡¥å…¨ vimscript</td>
<td>LSPï¼Œå¼€äº†å°±æœ‰ï¼Œè¿™ä¸œè¥¿ä¸è®¤æˆ‘çš„vim9script</td>
</tr>
<tr>
<td>coc-tsserver</td>
<td>è¡¥å…¨ javascript å’Œ typescript</td>
<td>å¼€ç®±å³ç”¨</td>
</tr>
<tr>
<td>coc-pyright</td>
<td>è¡¥å…¨ python</td>
<td><a target="_blank" rel="noopener" href="https://github.com/fannheyward/coc-pyright">å®˜æ–¹æ–‡æ¡£</a>ï¼Œæ‹†ç®±å³ç”¨ï¼Œæ„å¤–çš„ä¸æŠ¥æˆ‘ä¸å–œæ¬¢ç¬¦å·å·¦å³ç©ºæ ¼å’Œç”¨tabï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆã€‚coc-pythonå·²ç»ä¸ç»´æŠ¤äº†ï¼Œä¸è¦ç”¨</td>
</tr>
<tr>
<td>coc-sumneko-lua</td>
<td>è¡¥å…¨ lua</td>
<td>æ²¡æå¥½</td>
</tr>
<tr>
<td>coc-rls</td>
<td>è¡¥å…¨ rust</td>
<td>åˆ°æ—¶å€™å­¦rustçš„æ—¶å€™å†é…</td>
</tr>
<tr>
<td>coc-html</td>
<td>è¡¥å…¨ html</td>
<td>å…ˆä¸å»ç®¡ï¼Œåˆ°æ—¶å€™è¦ç”¨çš„æ—¶å€™å†é…</td>
</tr>
<tr>
<td>coc-clangd</td>
<td>è¡¥å…¨ c&#x2F;c++</td>
<td>è¦è£…å¥½clangï¼Œæµæ°“è½¯ä»¶ä¸€æ ·çš„ï¼Œè£…clangä¸€å®šè¦è£…LLVMï¼Œæš‚æ—¶ä¸Cç³»äº†ï¼Œå…ˆä¸è£…</td>
</tr>
<tr>
<td>coc-java</td>
<td>è¡¥å…¨ java</td>
<td>jdkç‰ˆæœ¬17ï¼Œè¦ç‚¹é…ç½®ï¼Œé…ç½®çš„æ—¶å€™è®°å¾—çœ‹<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/coc-java">å®˜æ–¹æ–‡æ¡£</a>ï¼Œæ³¨æ„ä¸€ä¸‹JAVAé¡¹ç›®å¦‚æœæ‰‹åŠ¨ç»´æŠ¤çš„è¯æ˜¯éå¸¸éº»çƒ¦çš„ï¼Œè™½ç„¶æœ‰äº†è¡¥å…¨ä½†è¿˜ä¸æ˜¯å®Œå…¨ä½“</td>
</tr>
<tr>
<td>coc-xml</td>
<td>è¡¥å…¨ xmlï¼Œspringå¼€å‘çš„æ—¶å€™ç”¨</td>
<td>åˆ°æ—¶å€™å†é…</td>
</tr>
<tr>
<td>coc-go</td>
<td>è¡¥å…¨ golang</td>
<td>åˆ°æ—¶å€™å†é…</td>
</tr>
<tr>
<td>coc-sql</td>
<td>è¡¥å…¨ sql</td>
<td><a target="_blank" rel="noopener" href="https://github.com/fannheyward/coc-sql">å®˜æ–¹æ–‡æ¡£</a></td>
</tr>
<tr>
<td>coc-sh</td>
<td>è¡¥å…¨ bash</td>
<td><a target="_blank" rel="noopener" href="https://github.com/josa42/coc-sh">å®˜æ–¹æ–‡æ¡£</a></td>
</tr>
<tr>
<td>coc-highlight</td>
<td>å½“å‰ç›¸åŒçš„ä»£ç è¯é«˜äº®</td>
<td><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/coc-highlight">å®˜æ–¹æ–‡æ¡£</a></td>
</tr>
<tr>
<td>coc-explorer</td>
<td>æ–‡ä»¶ç®¡ç†ç³»ç»Ÿï¼Œæˆ‘ä»¥åä¸€å®šä¼šè‡ªå·±å†™ä¸€ä¸ªçš„ï¼ˆçœŸé¦™</td>
<td><code>:CocCommand explorer</code></td>
</tr>
<tr>
<td>coc-translator</td>
<td>ç»™æˆ‘ç¿»è¯‘ç¿»è¯‘ä»€ä¹ˆå«æƒŠå–œ</td>
<td>è®°å¾—çœ‹<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/coc-translator">å®˜æ–¹æ–‡æ¡£</a>ï¼Œengineså‚æ•°è°ƒä¸€ä¸ªæœ‰é“å°±è¡Œäº†</td>
</tr>
<tr>
<td>coc-git</td>
<td>åº”è¯¥æ˜¾ç¤ºå½“å‰è¡Œçš„ä¿®æ”¹çŠ¶æ€å§</td>
<td><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/coc-git">å®˜æ–¹æ–‡æ¡£</a>ï¼Œè¿˜æ²¡é…è¿‡</td>
</tr>
</tbody></table>
<p>æ¯æ¬¡æ‰‹åŠ¨è½½å…¥æ’ä»¶éƒ½å¾ˆéº»çƒ¦ï¼Œå°±ç»™æˆ‘çš„maské‡ŒåŠ äº†ä¸€å±‚</p>
<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/image-20221222164007207.png" alt="image-20221222164007207"></p>
<p>è¿™ä¸ª<a target="_blank" rel="noopener" href="https://github.com/paradoxskin/mapChange.vim">mask</a>ä¹Ÿæ˜¯æˆ‘å†™çš„æ’ä»¶ï¼Œç”¨æ¥åŠ è½½å’Œåˆ‡æ¢é…ç½®éƒ½å¾ˆæ–¹ä¾¿ï¼Œä»¥åæ°´ä¸€ç¯‡ä»‹ç»å§</p>
<p>é…javaçš„ç¯å¢ƒå˜é‡è®°å¾—è¿˜è¦æ”¹JAVA_HOMEçš„ï¼Œåˆ«åªæ”¹äº†ä¸ªPathå°±ç»“æŸäº†</p>
<p>å¾ˆå¤šlspæ’ä»¶éƒ½æ˜¯è£…ä¸ªåè®®ï¼Œæ‰“å¼€æŒ‡å®šæ ¼å¼çš„æ–‡ä»¶çš„æ—¶å€™æ‰ä¼šå¸®ä½ ä¸‹è½½æœåŠ¡å™¨ï¼Œè£…å®Œä¹‹åæœ€å¥½å…ˆæ‰“å¼€å¯¹åº”çš„æ–‡ä»¶æµ‹è¯•ä¸€ä¸‹ç®¡ä¸ç®¡ç”¨ï¼Œç¡®å®æ¯”è‡ªå·±é…è¦æ–¹ä¾¿çš„å¤šå•Šï¼Œé‡åˆ°é—®é¢˜æ˜¯å°æ¦‚ç‡äº‹ä»¶</p>
<p>ä¸‹é¢æ”¾ç‚¹æˆ‘æŠ˜è…¾ä¸¤å¤©ä¸‹æ¥çš„é…ç½®å§</p>
<p><code>plugs.vim</code></p>
<pre><code class="javascript">&quot;*****coc.nvim
let g:coc_global_extensions = []
let g:flagHLSame=0
let g:coc_explorer_global_presets=&#123;
 \ &#39;.vim&#39;: &#123;
 \		&#39;root-uri&#39;: $HOME .. &quot;/vimfiles&quot;,
 \		&#39;position&#39;: &#39;right&#39;
 \ &#125;
 \&#125;
&quot;let b:coc_suggest_disable=1

&quot; useless: because of the source order
&quot;hi CocHighlightText guifg=#00cc00 gui=underline
au BufRead,BufNewFile * :let b:coc_suggest_disable=1

function SwHLSame()
    if g:flagHLSame==0
        autocmd CursorHold * silent call CocActionAsync(&#39;highlight&#39;)
        let g:flagHLSame=1
    else
        autocmd! CursorHold * 
        let g:flagHLSame=0
    end
endfunction
</code></pre>
<p><code>coc-settings.json</code></p>
<pre><code class="json">&#123;
    &quot;coc.preferences.extensionUpdateCheck&quot;: &quot;daily&quot;,
    &quot;suggest.noselect&quot;: true,
    &quot;suggest.enablePreselect&quot;: false,
    &quot;coc.preferences.formatOnSaveFiletypes&quot;: [
        &quot;json&quot;
    ],
    &quot;translator.engines&quot;: [
        &quot;youdao&quot;
    ],
    &quot;java.configuration.runtimes&quot;: [
        &#123;
            &quot;name&quot;: &quot;JavaSE-17&quot;,
            &quot;path&quot;: &quot;C:/Program Files/Java/jdk-17.0.5&quot;,
            &quot;default&quot;: true
        &#125;
    ],
    &quot;Lua.telemetry.enable&quot;: true,
    &quot;suggest.autoTrigger&quot;: &quot;always&quot;,
    &quot;suggest.completionItemKindLabels&quot;: &#123;
        &quot;function&quot;: &quot; \uf794 &quot;,
        &quot;variable&quot;: &quot; \ue261 &quot;,
        &quot;class&quot;: &quot; \uf503 &quot;,
        &quot;keyword&quot;: &quot; \uf084 &quot;,
        &quot;file&quot;: &quot; \uf15c &quot;,
        &quot;folder&quot;: &quot; \uf74a &quot;,
        &quot;snippet&quot;: &quot;&#123;\uf9b1&#125;&quot;,
        &quot;text&quot;: &quot; \uf49e &quot;,
        &quot;value&quot;: &quot; \u91c &quot;
    &#125;,
    &quot;diagnostic.signOffset&quot;: 1,
    &quot;diagnostic.errorSign&quot;: &quot;\uf00d&quot;,
    &quot;diagnostic.warningSign&quot;: &quot;\ufa35&quot;,
    &quot;diagnostic.infoSign&quot;: &quot;\uf05a&quot;,
    &quot;diagnostic.hintSign&quot;: &quot;\uf834&quot;,
    &quot;diagnostic.displayByAle&quot;: false,
    &quot;diagnostic.refreshOnInsertMode&quot;: false,
    &quot;diagnostic.refreshAfterSave&quot;: false,
    &quot;diagnostic.checkCurrentLine&quot;: true,
    &quot;diagnostic.virtualText&quot;: true,
    &quot;diagnostic.virtualTextPrefix&quot;: &quot;&gt;&gt;&gt;&quot;,
    &quot;explorer.icon.enableNerdfont&quot;: true,
    &quot;explorer.icon.customIcons&quot;: &#123;&#125;
&#125;
</code></pre>
<p>ä¸Šé¢çš„<code>suggest.completionItemKindLabels</code>æœ‰äº›å› ä¸ºæ˜¯ç”¨å­—ç¬¦æ–¹å¼çš„ï¼Œæ‰€ä»¥å¤åˆ¶è¿‡æ¥çš„æ—¶å€™ä¹±ç äº†ï¼Œä½ åªéœ€è¦å»coc-config.txté‡Œé¢æ‰¾è¿™ä¸ªè¯æ¡å°±æœ‰æ‰€æœ‰é¡¹ç›®ï¼ˆå¥½åƒä¸å…¨</p>
<p><code>mask.vim</code></p>
<pre><code class="javascript">    &quot;coc&quot;: [
        &quot;packadd coc.nvim&quot;,
        &quot;CocStart&quot;,
        &quot;inoremap &lt;expr&gt; &lt;C-Space&gt; coc#refresh()&quot;,
        &quot;inoremap &lt;expr&gt; &lt;Tab&gt; pumvisible() ? coc#pum#next(1) : \&quot;\&lt;Tab&gt;\&quot;&quot;,
        &quot;inoremap &lt;expr&gt; &lt;S-Tab&gt; pumvisible() ? coc#pum#prev(1) : \&quot;\&lt;S-Tab&gt;\&quot;&quot;,
        &quot;nnoremap &lt;Leader&gt;K :call CocActionAsync(&#39;doHover&#39;)&lt;CR&gt;&quot;,
        # has some bug
        &quot;nmap &lt;silent&gt; &lt;Leader&gt;rn &lt;Plug&gt;(coc-rename)&quot;,
        &quot;nmap &lt;silent&gt; - &lt;Plug&gt;(coc-diagnostic-prev)&quot;,
        &quot;nmap &lt;silent&gt; = &lt;Plug&gt;(coc-diagnostic-next)&quot;,
        &quot;nmap &lt;silent&gt; &lt;Leader&gt;g &lt;Plug&gt;(coc-definition)&quot;,
        &quot;nmap &lt;Leader&gt;tr &lt;Plug&gt;(coc-translator-p)&quot;,
        &quot;vmap &lt;Leader&gt;tr &lt;Plug&gt;(coc-translator-pv)&quot;,
        &quot;nnoremap &lt;Leader&gt;s :call SwHLSame()&lt;CR&gt;&quot;,
        # switch the complete
        &quot;nnoremap &lt;Leader&gt;q :let b:coc_suggest_disable=1-b:coc_suggest_disable&lt;CR&gt;&quot;,
        &quot;nnoremap &lt;Leader&gt;tt :CocCommand explorer --quit-on-open&lt;CR&gt;&quot;,
        &quot;nnoremap &lt;Leader&gt;tl :CocCommand explorer --position right --width 33&lt;CR&gt;&quot;,
        &quot;nnoremap &lt;Leader&gt;tv :CocCommand explorer --preset .vim&lt;CR&gt;&quot;,
        &quot;echo &#39;[M] COC Loaded.&#39;&quot;,
    ],
</code></pre>
<p>ä¸‹é¢çœ‹çœ‹æ•ˆæœå§</p>
<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/image-20221223171842237.png" alt="image-20221223171842237"></p>
<center><b>è¡¥å…¨æ•ˆæœ</b></center>

<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/image-20221223171809110.png" alt="image-20221223171809110"></p>
<center><b>é”™è¯¯æç¤º</b></center>

<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/image-20221223172140326.png" alt="image-20221223172140326"></p>
<center><b>æ–‡ä»¶æµè§ˆå™¨</b></center>

<h2 id="ç¼–è¯‘vim-å’Œ-é—²è¯"><a href="#ç¼–è¯‘vim-å’Œ-é—²è¯" class="headerlink" title="ç¼–è¯‘vim å’Œ é—²è¯"></a>ç¼–è¯‘vim å’Œ é—²è¯</h2><p>æ„Ÿè§‰å·®ä¸å¤šäº†ï¼Œå†é…ä¸‹å»è¦å…¨èŒvimeräº†ï¼Œè¿˜è¦æä¸€å˜´ï¼Œå¦‚æœä½ ç”¨çš„ä¹Ÿæ˜¯vimï¼Œå¹¶ä¸”æ˜¯å®˜ç½‘ä¸‹è½½çš„gvim9.0çš„è¯ï¼Œä¸Šé¢çš„é”™è¯¯ä¿¡æ¯ä½ åªä¼šä»¥popupçª—å£çš„å½¢å¼å±•ç¤ºï¼Œå› ä¸ºè¿™ä¸ªç‰¹æ€§éœ€è¦<code>vim:9.0.0067</code>æ‰èƒ½ç”¨ï¼Œè€Œå®˜ç½‘æ˜¯<code>vim:9.0.0</code></p>
<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/image-20221223172400229.png" alt="image-20221223172400229"></p>
<p>ä½ éœ€è¦å»githubä¸Šä¸‹è½½æœ€æ–°çš„vimæºç è‡ªå·±ç¼–è¯‘ï¼Œç¼–è¯‘è¯´æ˜srcæ–‡ä»¶å¤¹é‡Œé¢éƒ½æœ‰ï¼Œç…§ç€è¯´æ˜æ¥å°±è¡Œäº†ï¼Œè¿˜æœ‰gvimé»˜è®¤éƒ½æ˜¯ç”¨<code>C://windows/gvim.bat</code>æ‰“å¼€çš„ï¼Œç¼–è¯‘å®Œä¸è¦åªæ”¹äº†Pathé‡Œçš„è·¯å¾„ï¼Œbatä¹Ÿæ”¹ä¸€ä¸‹ï¼Œè®°å¾—ç”¨ç®¡ç†å‘˜æƒé™</p>
<p><em><del>ä¸ºä»€ä¹ˆè‡ªå·±ç¼–è¯‘çš„GVIMä¸­æ–‡æ”¯æŒè¿™ä¹ˆå·®ï¼Œè¿˜æœ‰ä¹±ç </del></em></p>
<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/complieGvim.PNG" alt="complieGvim"></p>
<center><b>ä½“éªŒäº†ä¸€æŠŠ gentoo è£…è½¯ä»¶çš„ä½“éªŒ</b></center>

<p>å·²ç»ç©å¤Ÿäº†ï¼Œå·®ä¸å¤šè¦æ”¶æ”¶å¿ƒå­¦åç«¯äº†ï¼Œåˆè¦å­¦springï¼Œåˆè¦å­—èŠ‚é’è®­å­¦golangï¼Œè¿˜è¦æ•™å­¦å¦¹ç‚¹pythonçš„OIæŠ€å·§</p>
<p>æ˜å¤©å°±è¦å›å®¶äº†ï¼Œå®¶é‡Œäººéƒ½ğŸäº†ï¼Œå›å®¶è‚¯å®šè¦ğŸäº†å•Š</p>
<p>å†åæ§½ä¸€ç‚¹ç‚¹</p>
<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/ssds.png" alt="ssds"></p>
<center><b>vimlspä¸è®¤è¯†vim9script</b></center>

<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/YDYL5M@T3COCV3J5G%7B%7DFBY5.png" alt="YDYL5M@T3COCV3J5G{}FBY5"></p>
<center><b>çœŸçš„æ˜¯è¦é…ç½®ç–¯äº†ï¼Œä¸‹åˆåˆ°å‡Œæ™¨</b></center>

<p><img src="http://parad0xpic.oss-cn-hangzhou.aliyuncs.com/image-for-pyup/20221223172932.jpg" alt="20221223172932"></p>
<center><b>ä½ è¯´çš„å¯¹ï¼Œä½†æ˜¯vimæ˜¯ä¸€æ¬¾...</b></center>

<p>æ— æ‰€è°“äº†ï¼Œ2022å¹´è¿‡çš„çœŸæ˜¯ä¸çˆ½å•Šï¼</p>


	<b><span id="post-date">2022/12/23</span></b>
	<div id="tags">
		<ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/" rel="tag"># vim</a></li></ul>
	</div>

	<div id="clear"></div>
</div>
<center><a class="gobk" href="javascript:;" onclick="Gobk()">&gt CLICK TO back &lt</a><center>
<div id="cart">
	<button id="cart-hide" onclick="cartCg()">â—€</button>
</div>
<script>
	if(history.state==null){
		var tmpa=document.getElementsByClassName("gobk")[0];
		tmpa.innerHTML="> CLICK TO land <";
	}
	showAIndex();
</script>

	</div>
	<script>
		hljs.highlightAll();
		hljs.initLineNumbersOnLoad();
	</script>
</span>
	<hr id="hidden">
	

	<script>
		hljs.highlightAll();
		hljs.initLineNumbersOnLoad();
		initBg();
		$(document).pjax('a','#pup',{fragment:'#pup',timeout: 8000});
	</script>
</body>
</html>
